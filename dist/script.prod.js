"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}var canv=document.getElementById("canv"),ctx=canv.getContext("2d");canv.width=1920,window.spacing=16,window.lineHeight=40,window.wave=1,window.randomSize=0,window.indentTop=10,window.indentRight=20,window.indentLeft=20,window.indentBottom=20,window.fontSize=30,window.fontColor="black",window.lineDelimiter=1,window.currentBg=1,window.backgrounds={1:"img/notebook.jpg",2:"img/zebra.jpg"},window.start=function(){document.getElementById("bg-image").src=backgrounds[currentBg],ctx.clearRect(0,0,canv.width,canv.height),updateCurrentPage();var e=function(){function e(){_classCallCheck(this,e),this.reset()}return _createClass(e,[{key:"reset",value:function(){this.posX=indentLeft,this.posY=indentTop}},{key:"newY",value:function(){this.posX=indentLeft,this.posY+=lineHeight}},{key:"parse",value:function(i){var o=this,a=1;return this.arr=[],i.forEach(function(e,n){if(" "==i[n]){for(var t=o.posX,r=n+1;" "!==i[r]&&r<=i.length;r++)t+=spacing;t>=canv.width-indentRight&&o.newY()}o.posX>=canv.width-indentRight&&o.newY(),o.posY>=canv.height-indentBottom&&(a++,o.reset()),"\n"==e&&o.newY(),o.arr[n+0]={page:a,posX:o.posX,posY:o.posY+Math.random()*wave+20,symbol:e},o.posX+=spacing}),this.arr}}]),e}();window.textH=new e,ctx.font="".concat(fontSize+(Math.random()*randomSize-randomSize),"px main"),ctx.fillStyle=fontColor,textH.parse(text).forEach(function(e){e.page==currentPage&&ctx.fillText(e.symbol,e.posX,e.posY)})},window.text=_toConsumableArray(""),canv.height=3*canv.width/2,window.hiddenSwitcher=1,window.currentPage=1;var uiPanel=document.querySelector("[panel]");addEventListener("keydown",function(e){"F4"==e.code&&(hiddenSwitcher=!hiddenSwitcher,hiddenSwitcher?uiPanel.classList.add("active"):uiPanel.classList.remove("active"))}),addEventListener("keydown",function(e){"F9"==e.code&&saveImage(getImage(canv))}),addEventListener("keydown",function(e){"F7"==e.code&&start()}),updateCurrentPage=function(){document.querySelector("#cur-page").innerHTML=currentPage},window.nextPagination=function(){currentPage++,start()},window.prevPagination=function(){1<currentPage&&(currentPage--,start())},start(),window.input=function(e){text=_toConsumableArray(e.target.value),start()};