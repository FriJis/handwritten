"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var canv=document.getElementById("canv"),ctx=canv.getContext("2d");window.start=function(){document.getElementById("bg-image").src=backgrounds[currentBg],ctx.clearRect(0,0,canv.width,canv.height);var e=function(){function e(){_classCallCheck(this,e),this.reset()}return _createClass(e,[{key:"reset",value:function(){this.posX=indentLeft,this.posY=indentTop}},{key:"newY",value:function(){this.posX=indentLeft,this.posY+=lineHeight}},{key:"parse",value:function(a){var o=this,i=1;return this.arr=[],a.forEach(function(e,t){if(" "==a[t]){for(var n=o.posX,r=t+1;" "!==a[r]&&r<=a.length;r++)n+=spacing;n>=canv.width-indentRight&&o.newY()}o.posX>=canv.width-indentRight&&o.newY(),o.posY>=canv.height-indentBottom&&(i++,o.reset()),"\n"==e&&o.newY(),allPage=i,o.arr[t+0]={page:i,posX:o.posX,posY:o.posY+Math.random()*wave+20,symbol:e},o.posX+=spacing}),this.arr}}]),e}();window.textH=new e,ctx.font="".concat(fontSize+(Math.random()*randomSize-randomSize),"px main"),ctx.fillStyle=fontColor,textH.parse(text).forEach(function(e){e.page==currentPage&&ctx.fillText(e.symbol,e.posX,e.posY)}),updateCurrentPage()},window.text=_toConsumableArray(""),window.hiddenSwitcher=1,window.currentPage=1,window.allPage=1;var uiPanel=document.querySelector("[panel]");addEventListener("keydown",function(e){"F4"==e.code&&(hiddenSwitcher=!hiddenSwitcher,hiddenSwitcher?uiPanel.classList.add("active"):uiPanel.classList.remove("active"))}),addEventListener("keydown",function(e){"F9"==e.code&&saveImage(getImage(canv))}),addEventListener("keydown",function(e){"F7"==e.code&&start()}),updateCurrentPage=function(){document.querySelector("#cur-page").innerHTML=currentPage+"/"+allPage},window.nextPagination=function(){currentPage<allPage&&(currentPage++,start())},window.prevPagination=function(){1<currentPage&&(currentPage--,start())},onpreset(),start(),window.input=function(e){text=_toConsumableArray(e.target.value),start()};